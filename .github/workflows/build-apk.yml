name: Build FarmPro APK

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Create APK using online service simulation
      run: |
        # Create a simple script to generate basic APK structure
        echo "Creating FarmPro APK package..."
        
        # Create minimal APK structure
        mkdir -p farmpro-apk/assets
        cp index.html farmpro-apk/assets/
        
        # Create APK info file
        cat > farmpro-apk/apk-info.txt << EOF
        FarmPro Assistant APK
        ====================
        This APK contains your FarmPro HTML application.
        To convert to actual APK, use any online HTML to APK converter.
        
        Your HTML file is included in the assets folder.
        
        Recommended converters:
        - https://www.webviewgold.com
        - https://gonative.io
        - https://www.webintoapp.com
        
        Or use Android Studio to create a WebView app.
        EOF
        
        # Zip it for download
        zip -r farmpro-html-source.zip farmpro-apk/
        
    - name: Upload HTML Source for Conversion
      uses: actions/upload-artifact@v4
      with:
        name: farmpro-html-source
        path: farmpro-html-source.zip
        retention-days: 30
